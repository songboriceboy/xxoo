<!DOCTYPE html>

<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="android,ios" />
        <meta name="keywords" content="android,ios" />

        <title>叶小钗</title>
        <style type='text/css'>
            body {
                background-color: #CCC;
            }
        </style>
        <link rel="stylesheet" href="../../../css/bootstrap.css" />
    </head>

    <body>
        <div class="container">

            <h1>叶小钗</h1>

            <div class='navbar navbar-inverse'>
                <div class='navbar-inner nav-collapse' style="height: auto;">
                    <ul class="nav">
                              				<li><a href="http://songboriceboy.github.io/xxoo/html/blade/index.html">blade</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/css/index.html">css</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/index.html">HTML5&CSS3</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/index.html">javascript</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/Javaxx/index.html">Java学习</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/nodejs/index.html">nodejs</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/requirejs/index.html">requirejs</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/Webqd/index.html">Web前端</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/xxgw/index.html">学习感悟</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/gzdd/index.html">工作点滴</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/jkxx/index.html">接口学习</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/wfl/index.html">未分类</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/ydkf/index.html">移动开发</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/sjms/index.html">设计模式</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/mst/index.html">面试题</a></li>
    				                      </ul>
                </div>
            </div>

            <div id='content' class='row-fluid'>

                <div class='span9 main'>
				<div style="color:blue" align=center>【HTML5初探之离线应用】如何打造零请求、无流量的网站？</div><br><h1>导航</h1>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_8" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/16/3023912.html">【初探HTML5之使用新标签布局】用html5布局我的博客页！</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_7" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/16/3025240.html">【HTML5初探之form标签】解放表单验证、增加文件上传、集成拖放</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_6" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/17/3027220.html">【HTML5初探之绘制图像（上）】看我canvas元素引领下一代web页面</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_5" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/19/3029603.html">【HTML5初探之绘制图像（下）】看我canvas元素引领下一代web页面</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_4" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/19/3030702.html">【HTML5初探之多媒体元素】视频播放HTML5、Flash谁才是王道？</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_3" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/19/3031002.html">【HTML5初探之本地存储】如果没有数据库。。。</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_2" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/20/3032223.html">【HTML5初探之离线应用】如何打造零请求、无流量的网站？</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_1" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/20/3032548.html">【HTML5初探之通信API】跨域门槛不再高、数据推送不是梦</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_0" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/20/3032765.html">【HTML5初探之Web Workers】网页也能多线程</a></p>
<p><a id="CategoryEntryList1_EntryStoryList_Entries_TitleUrl_0" class="entrylistItemTitle" href="http://www.cnblogs.com/yexiaochai/archive/2013/04/20/3033049.html">【HTML5初探之Geolocation API】让我们来回去地理信息</a></p>
<p>&nbsp;</p>
<h1>关于地震</h1>
<p>一个不幸的消息，今天雅安发生了7级地震，我在成都这边，震感很强。。。早上8点左右，我穿着内裤惊醒，正遇着要去上班的小姨子（女朋友出差）。</p>
<p>于是我欢乐的将她拥入怀中，走到阳台上，小姨子惊叫着，我也有点不安......感受这一大自然带来的震撼！！！虽说怀拥美人，但我脚仍然忍不住的发抖。</p>
<p>30秒左右地震大概结束，我于是放开了小姨子，回到了床上，本想继续睡觉，但一会动一下，一会抖一下，我都分不清是我在发抖还是大地在发抖了。。。。。。</p>
<p>不知从何时起，我也变成非常宅了，今天硬生生的没有出门。。。甚至地震时候都没下楼去。。。。好吧我真是服了自己了。</p>
<p>最后希望这次地震快点过去，经历了汶川大地震，我们对地震带来的伤害与不安了解深刻，也希望雅安同胞的损失可以小点，这一震多少人的努力又将白费啊！</p>
<h1>前言</h1>
<p>今天Web应用程序已经很复杂了，以现在的发展，会将越来越复杂，但他有一个致命缺点，不能脱离internet链接，因此在HTML中新增了一API，</p>
<p>它使用一个本地存储机制很好地解决了这个问题，为离线web应用铺平了道路。</p>
<h1>本地缓存于浏览器缓存</h1>
<div class="cnblogs_code">
<pre>本地缓存是为整个web应用程序服务<br>浏览器缓存只对单个网页服务<br><br>任何网页都具有网页缓存<br>本地缓存只缓存那些你指定缓存的页面<br><br>网页缓存不可靠、不安全，因为我们不知道网站中到底缓存了哪些页面、哪些资源<br>本地缓存可以控制对哪些内容进行缓存</pre>
</div>
<h1>manifest文件</h1>
<p>web应用程序本地缓存是通过每个页面的manifest文件来管理的，manifest是一简单文本，在该文件中以清单的形式列举了需要被缓存的不需要被缓存的文件的名字、路径。</p>
<p>可以为每个页面单独指定manifest也可以为整个应用程序指定，例我们为hello.htm的设置：</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">CACHE MANIFEST
CACHE:
other.html
hellow.js
images</span>/<span style="color: #000000;">myphoto.jpg
NETWORK:
http:</span><span style="color: #008000;">//</span><span style="color: #008000;">LuLinniu/NotOffline</span>
<span style="color: #000000;">NotOffline.asp
</span>*<span style="color: #000000;">
FALLBACK:
online.js locale.js
CACHE:
newhellow.html
newhellow.js</span></pre>
</div>
<p>在manifest文件中，第一行必须是CACHE MANIFEST，以把文本的作用告诉浏览器，即对本地缓存中的资源文件进行具体设置。<br>同时真正运行离线web应用程序时，需要对服务器进行配置，让服务器支持text/cache-manifest这个mime类型。</p>
<p>在指定文件源文件时可以把资源文件分为三类，CACHE、NETWORK、FALLBACK</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">在CACHE类别中指定需要被缓存在本地的资源文件，为某个页面指定需要本地缓存的资源文件时，不需要把这个页面本身指定在CACHE类别中，<br>因为如果一个页面具有manifest文件，浏览器会自动对该页面进行本地缓存

NETWORK类别为显式指定不进行缓存的资源文件，这些文件只有建立服务器端链接才能访问，本例使用通配符</span>*<span style="color: #000000;">表示没有进行记录的都不缓存

FALLBACK类别中的每行中指定两个资源文件，第一个资源文件为能够在线访问时使用的资源文件，第二个为不能在线访问时使用的本地缓存文件</span></pre>
</div>
<h1>浏览器与服务器交互过程</h1>
<p>当使用离线web应用程序进行工作时，有必要了解浏览器与服务器之间的交互过程：</p>
<div class="cnblogs_code">
<pre>比如一个http:<span style="color: #008000;">//</span><span style="color: #008000;">LuLingniu，以index.htm为主页，该主页使用index.manifest，</span>
<span style="color: #000000;">在文件中缓存index.htm，hello.js，hello.jpg，首次访问时流程如下：
</span><span style="color: #800080;">1</span><span style="color: #000000;"> 浏览器请求url
</span><span style="color: #800080;">2</span><span style="color: #000000;"> 服务器返回index.htm首页
</span><span style="color: #800080;">3</span><span style="color: #000000;"> 浏览器解析index.htm网页，请求页面上所有资源文件
</span><span style="color: #800080;">4</span><span style="color: #000000;"> 服务器返回资源文件
</span><span style="color: #800080;">5</span><span style="color: #000000;"> 浏览器处理manifest文件，请求manifest中需要缓存的文件，即使请求过亦会再请求
</span><span style="color: #800080;">6</span><span style="color: #000000;"> 服务器返回需要缓存的文件
</span><span style="color: #800080;">7</span><span style="color: #000000;"> 浏览器对本地缓存进行更新，存入资源文件，并触发一个事件通知本地缓存更新

再次打开该URL
</span><span style="color: #800080;">1</span><span style="color: #000000;"> 请求url 
</span><span style="color: #800080;">2</span><span style="color: #000000;"> 浏览器发现页面被缓存，于是使用本地缓存文件
</span><span style="color: #800080;">3</span><span style="color: #000000;"> 解析文件
</span><span style="color: #800080;">4</span><span style="color: #000000;"> 浏览器像服务器请求manifest文件
</span><span style="color: #800080;">5</span> 服务器返回304，通知manifest文件没有变化（若是改变将会有所不同）</pre>
</div>
<h1>applicationCache对象</h1>
<p>该对象代表了本地缓存，可以用它来通知用户本地缓存已经被更新，也允许手动更新本地缓存。</p>
<p>前面当浏览器对本地缓存做了更新装入新资源文件时，会触发applicationCache对象的updateready事件，通知本地缓存已被修改，然后提示用户手动刷新页面。</p>
<h2>swapCache</h2>
<p>swapCache方法用来手动执行本地缓存的更新，它只能在applicationCache对象的updateReady事件触发时调用，</p>
<p>即当资源文件发生改变时，可使用此方法手工缓存更新。</p>
<h2>applicationCache对象事件</h2>
<p>略......</p>
<h1>结语</h1>
<p>不知是地震原因，还是这章知识点我没有看懂的原因，今天干事情就真没什么激情了。。。。。暂时到这吧。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
                </div>

                <div class='span3 sidebar'>
                    <h2>导航栏</h2>
                    <ul class="nav nav-tabs nav-stacked">
                             				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/CSS3ctzMediaQuerieszywcldCSS3wmlgzzzj/index.html">【CSS3初探之MediaQueries】终于完成了的CSS3，我们来个终章总结！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/CSS3ctzbxydhlrjtdCSS3/index.html">【CSS3初探之变形与动画】令人惊叹的CSS3</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/CSS3ctzztwbxgrrkblsdCSS3/index.html">【CSS3初探之字体、文本相关】让人开不了始的CSS3。。。</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/CSS3ctzhxgyswmyrygk/index.html">【CSS3初探之盒相关样式】我们一人一个框。。。</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/CSS3ctzbjbkxgqdyldclyjqdwfzofferqdyt/index.html">【CSS3初探之背景边框相关】奇葩的与老大吵了一架，奇葩的五分钟offer，奇葩的一天。。。</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5&CSS3jjxx02HeaderdsxCSSzdbj/index.html">【HTML5&CSS3进阶学习02】Header的实现·CSS中的布局</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzformbqjfbdyzzjwjscjctf/index.html">【HTML5初探之form标签】解放表单验证、增加文件上传、集成拖放</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzGeolocationAPIrwmhqnsddz/index.html">【HTML5初探之GeolocationAPI】让我们获取女神的地址</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzWebWorkerswyyndxc/index.html">【HTML5初探之WebWorkers】网页也能多线程</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzdmtysspbfHTML5Flashscswd/index.html">【HTML5初探之多媒体元素】视频播放HTML5、Flash谁才是王道？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzbdccrgmysjk/index.html">【HTML5初探之本地存储】如果没有数据库。。。</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzlxyyrhdzlqqwlldwz/index.html">【HTML5初探之离线应用】如何打造零请求、无流量的网站？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzhztxskwcanvasysylxydwebym/index.html">【HTML5初探之绘制图像（上）】看我canvas元素引领下一代web页面</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctzhztxxkwcanvasysylxydwebym/index.html">【HTML5初探之绘制图像（下）】看我canvas元素引领下一代web页面</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/HTML5ctztxAPIkymjbzgsjtsbsm/index.html">【HTML5初探之通信API】跨域门槛不再高、数据推送不是梦</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/xpldbkrwmdbkgjplrwmdbkzcxysbj/index.html">【写漂亮的博客】让我们的博客更加漂亮，让我们的博客支持响应式布局！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/ctHTML5zsyxbqbjyhtml5bjwdbky/index.html">【初探HTML5之使用新标签布局】用html5布局我的博客页！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/szHTML5yCSS3mfzzwkymlfym/index.html">【实战HTML5与CSS3】免费制作威客页面啦（附源码）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/szHTML5yCSS3yHTML5hCSS3zzyms/index.html">【实战HTML5与CSS3】用HTML5和CSS3制作页面（上）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/szHTML5yCSS3dypctssmlddhxldtpbz/index.html">【实战HTML5与CSS3第一篇】初探水深，美丽的导航，绚丽的图片爆炸！！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/szHTML5yCSS3dspwdygHTML5wydsl(tgym)/index.html">【实战HTML5与CSS3第三篇】我第一个HTML5网页诞生了(提供源码)</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/szHTML5yCSS3depxldksdh/index.html">【实战HTML5与CSS3第二篇】绚丽的快速导航！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/tsHTML5ded01HTML5dqsjsyjls/index.html">【探索HTML5第二弹01】HTML5的前世今生以及来世</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/tsHTML5ded03zjdtyydsjkwmgoogledtkykxsm/index.html">【探索HTML5第二弹03】走近地图应用的世界，看我们google地图可以看些什么！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/tsHTML5ded04xysbjsrwmyqlxysbjb/index.html">【探索HTML5第二弹04】响应式布局（上），让我们一起来响应式布局吧</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/tsHTML5ded05xysbjzybybxysbj/index.html">【探索HTML5第二弹05】响应式布局（中），一步一步响应式布局</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/rhtzCSS3ddh/index.html">如何停止CSS3的动画？</a></li>
    				                                         
                    </ul>
                </div>
            </div>

        </div>
    </body>
</html>