<!DOCTYPE html>

<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="android,ios" />
        <meta name="keywords" content="android,ios" />

        <title>叶小钗</title>
        <style type='text/css'>
            body {
                background-color: #CCC;
            }
        </style>
        <link rel="stylesheet" href="../../../css/bootstrap.css" />
    </head>

    <body>
        <div class="container">

            <h1>叶小钗</h1>

            <div class='navbar navbar-inverse'>
                <div class='navbar-inner nav-collapse' style="height: auto;">
                    <ul class="nav">
                              				<li><a href="http://songboriceboy.github.io/xxoo/html/blade/index.html">blade</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/css/index.html">css</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/index.html">HTML5&CSS3</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/index.html">javascript</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/Javaxx/index.html">Java学习</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/nodejs/index.html">nodejs</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/requirejs/index.html">requirejs</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/Webqd/index.html">Web前端</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/xxgw/index.html">学习感悟</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/gzdd/index.html">工作点滴</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/jkxx/index.html">接口学习</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/wfl/index.html">未分类</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/ydkf/index.html">移动开发</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/sjms/index.html">设计模式</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/mst/index.html">面试题</a></li>
    				                      </ul>
                </div>
            </div>

            <div id='content' class='row-fluid'>

                <div class='span9 main'>
				<div style="color:blue" align=center>【腾讯】【新浪】【公共微博】——信息汇聚【求免授权方案】</div><br><h1>前期</h1>
<hr>
<p>最近一个项目（哎，其实做了半年了......），完成的是网上很多资源的汇聚功能，其中有一块为腾讯、新浪等微博的信息汇聚功能。</p>
<p>刚开始时候当然是看新浪以及腾讯的API，然后花了点时间做研究，便开发出来了第一版的微博关注框：</p>
<p>此关注框有以下特点：</p>
<p>1 必须登录授权</p>
<p>2 一般取该用户的微博信息</p>
<p>3 不登陆什么也米有（废话......）</p>
<p>4 回复及图片都可以取出来，但是视频等方面没能做官方那么复杂（视频，收藏，评论等功能未实现......）</p>
<p>但是马上便遇到问题了</p>
<p>1 领导要求最热的信息汇聚，并能提供类似腾讯、新浪等多数功能</p>
<p><strong>2 用一关注框完成所有热门微博的信息汇聚功能......（好吧，我承认这个功能很强大，注意是所有）</strong></p>
<p>3 每次微博皆要登陆，领导觉得很烦，他不想登陆（我也不想登陆但是貌似有点难......）</p>
<p>......</p>
<h1>过程</h1>
<hr>
<p><strong>免登陆的烦恼</strong></p>
<p>关于免登陆这个功能点，我搞了很久，最后都搞不出来，和一个搞销售的兄弟聊了下天，他突然说了句。</p>
<p>我若是将微博账号、密码告诉了你，你能保证他的安全性吗？</p>
<p>对呢？我能吗？我当然不能，我一个小小的开发有何能力能保证他的安全性?</p>
<p>假如项目做的很好，推广的很成功，到一段时间搞不好便可以积累，成千上万甚至更多人的qq或者微博账号密码。</p>
<p>于是，我们是否可以由此盗用用户的信息作为发财的手段呢，在利益面前，信用的力度很低了，况且是一个程序员的保证......</p>
<p>扯远了，虽说这个和项目功能不沾边，但是我突然意识到就算用户肯将账户给我们，新浪、腾讯也不会肯，于是开始做其他方面研究。</p>
<p><strong>前端人员的烦恼&mdash;&mdash;跨域你真的理解了吗？</strong></p>
<p>当然，之间我做了一件非常愚蠢的事情，和上面没什么两样，花了三个多小时再弄，最后还是老大提醒才焕然大悟......</p>
<p>我做了一个实验，建立a页面和b页面，在a页面中写js代码，然后在b页面中写html元素，在a页面用iframe引入b页面</p>
<p>然后在a页面中操作b页面，当然！！！我成功了......（已经看懂了的人不许笑......）</p>
<p>然后，我将a页面中引入了微博的登陆框，企图在a页面中操作b页面的元素......</p>
<p>好吧我知道我恨愚蠢，我搞了很久，发现怎么都不得行，最后老大说，你getJson时候都知道要跨域，你现在想操作登陆页面的元素。</p>
<p>怕是在挑战浏览器的安全性吧.......好，我承认我傻了......</p>
<p><strong>后台代理带来的改变</strong></p>
<p>前台不能跨域，后台总可以请求吧，于是用最原始的方法用后台做了一次代理，好不容易将两个公共微博的东西弄了出来</p>
<p><img src="39269835766419.png" alt=""></p>
<p><strong>&nbsp;</strong></p>
<p><strong>这两块依次为各个微博的免登陆接口，所以不用登陆也可以取数据，算是欺骗领导吧......</strong></p>
<h1><strong>求解决方案</strong></h1>
<hr>
<p>好了问题来了:</p>
<p><span style="color: #ff0000;"><strong>现在准备申请几个公共账号，从后台登陆去取数据，然后做汇聚，做免登陆的实现，但是我想问问！！！</strong></span></p>
<p><span style="color: #ff0000;"><strong>各位大哥有点什么其他办法没有......</strong></span></p>
<p><span style="color: #ff0000;"><strong>免登陆，访问微博（或者只登陆一次）</strong></span></p>
<p>跪求。。。。。。</p>
<p>&nbsp;</p>
                </div>

                <div class='span3 sidebar'>
                    <h2>导航栏</h2>
                    <ul class="nav nav-tabs nav-stacked">
                             				<li><a href="http://songboriceboy.github.io/xxoo/html/gzdd/qwsqzrhpjnetdviewerstaterhjycdfwqkjxscl/index.html">【求勿删】【求助！！！】如何破解net的viewerstate？？如何将隐藏的服务器控件显示出来</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/gzdd/txxlggwbxxhjqmsqfa/index.html">【腾讯】【新浪】【公共微博】——信息汇聚【求免授权方案】</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/gzdd/gzstdthgsjsgshxxgrbt/index.html">工作四天的体会，公司就是公司和学校果然不同！！！</a></li>
    				                                         
                    </ul>
                </div>
            </div>

        </div>
    </body>
</html>