<!DOCTYPE html>

<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="android,ios" />
        <meta name="keywords" content="android,ios" />

        <title>叶小钗</title>
        <style type='text/css'>
            body {
                background-color: #CCC;
            }
        </style>
        <link rel="stylesheet" href="../../../css/bootstrap.css" />
    </head>

    <body>
        <div class="container">

            <h1>叶小钗</h1>

            <div class='navbar navbar-inverse'>
                <div class='navbar-inner nav-collapse' style="height: auto;">
                    <ul class="nav">
                              				<li><a href="http://songboriceboy.github.io/xxoo/html/blade/index.html">blade</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/css/index.html">css</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/HTML5&CSS3/index.html">HTML5&CSS3</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/index.html">javascript</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/Javaxx/index.html">Java学习</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/nodejs/index.html">nodejs</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/requirejs/index.html">requirejs</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/Webqd/index.html">Web前端</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/xxgw/index.html">学习感悟</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/gzdd/index.html">工作点滴</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/jkxx/index.html">接口学习</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/wfl/index.html">未分类</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/ydkf/index.html">移动开发</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/sjms/index.html">设计模式</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/mst/index.html">面试题</a></li>
    				                      </ul>
                </div>
            </div>

            <div id='content' class='row-fluid'>

                <div class='span9 main'>
				<div style="color:blue" align=center>【前端盲点】事件的几个阶段你真的了解么？？？</div><br><h1>前言</h1>
<p>前端时间我写过几篇关于事件的博客：</p>
<ul>
<li><a href="http://www.cnblogs.com/yexiaochai/p/3462657.html">【移动端兼容问题研究】javascript事件机制详解（涉及移动兼容）</a></li>
<li><a href="http://www.cnblogs.com/yexiaochai/p/3477715.html">【探讨】javascript事件机制底层实现原理</a></li>
</ul>
<p>结果被团队的狗蛋读了，发现其中一块&rdquo;特别&ldquo;的地方，然后之后读了<a class="feed_author" href="http://home.cnblogs.com/u/hustskyking/">Barret Lee</a><span>&nbsp;的一篇博客：</span><a id="homepage1_PostList1_rptEntries_TitleUrl_2" class="PostTitle" href="http://www.cnblogs.com/hustskyking/p/problem-javascript-event.html">[解惑]JavaScript事件机制</a></p>
<p>发现该博主之前对这个问题可能也有一定&rdquo;误解&ldquo;</p>
<p>之后再陆陆续续问了团队中几个高手，狗蛋的问题都得不到解释，而且很多比较资深的前端对这个问题的认识也是有问题的</p>
<p>所以，这里就拿出来说说，各位看看就好</p>
<h1>事件阶段</h1>
<p>引用：</p>
<p>群里童鞋问到关于事件传播的一个问题：&ldquo;事件捕获的时候，阻止冒泡，事件到达目标之后，还会冒泡吗？&rdquo;。</p>
<p>初学 JS 的童鞋经常会有诸多疑问，我在很多 QQ 群也混了好几年了，耳濡目染也也收获了不少，以后会总结下问题的结论，顺便说说相关知识的扩展~</p>
<p>如果贸然回答还会冒泡，这不太好的，稍微严谨点考虑 0级 DOM 事件模型的话，这个答案是否定的。但是在 2级 DOM 事件模型中，答案是肯定的，这个问题值得探讨记录下。</p>
<p>本文地址：<a href="http://www.cnblogs.com/hustskyking/p/problem-javascript-event.html">http://www.cnblogs.com/hustskyking/p/problem-javascript-event.html</a>&nbsp;</p>
<h2>三个阶段</h2>
<div class="cnblogs_code">
<pre><span style="color: #800000;">事件冒泡即由最具体的元素（文档嵌套最深节点）接收，然后逐步上传至document

事件捕获会由最先接收到事件的元素然后传向最里边（我们可以将元素想象成一个盒子装一个盒子，而不是一个积木堆积）</span></pre>
</div>
<p>这句话其实解释的很清楚了，事件的触发点应该是最先接收到事件的元素或者最具体的元素</p>
<div class="cnblogs_code">
<pre><span style="color: #800000;">DOM2级事件规定事件包括三个阶段：

① 事件捕获阶段

② 处于目标阶段

③ 事件冒泡阶段</span></pre>
</div>
<p>一切都很美好，比如以下代码很多人会自以为是的认为先执行捕获，再执行冒泡：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html </span><span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="http://www.w3.org/1999/xhtml"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/css"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;">
         #p </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 300px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 300px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> padding</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 10px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">  border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid black</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;">
         #c </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid red</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;">
         #sub </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 100px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 100px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid red</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="p"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
        parent
    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">
      window.alert </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (msg) {
        console.log(msg);
      };
      </span><span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> p </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">p</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">);
      p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点捕获11</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);
      p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点冒泡</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">false</span><span style="background-color: #f5f5f5; color: #000000;">);
    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>事实上，我们忽略了一个重要的事实，发生在p元素的点击时<span style="color: #ff0000;"><strong>是先判断是否处于事件阶段二</strong></span>！！！</p>
<p>比如，我们这里点击时候</p>
<p><img src="51947938381747.png" alt=""></p>
<p>这个时候，我们已经处于了事件阶段，所以根本不存在捕获或者冒泡</p>
<p><strong><span style="color: #ff0000;">这个时候会按照事件注册顺序，由事件队列中取出回调函数，执行之！</span></strong></p>
<p>这个是一个比较容易忽略的地方，安装我们临时的理解，很容易忽略处于阶段，而只关注捕获阶段以及冒泡阶段，事实上处于阶段时候的处理机制是不一样的</p>
<h2>两个嵌套</h2>
<p>为了论证上面的说明，我们分别下下下面的代码：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html </span><span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="http://www.w3.org/1999/xhtml"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/css"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;">
    #p </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 300px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 300px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> padding</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 10px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid black</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;">
    #c </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid red</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;">
    #sub </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 100px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 100px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid red</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="p"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
    parent
    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="c"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
      child
    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">
    window.alert </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (msg) {
      console.log(msg);
    };
    </span><span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> p </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">p</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">),
        c </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">c</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">);
    p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
      alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点冒泡</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
    }, </span><span style="background-color: #f5f5f5; color: #0000ff;">false</span><span style="background-color: #f5f5f5; color: #000000;">);

    c.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
      alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">子节点捕获</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
    }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);
    c.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
      alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">子节点冒泡</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
    }, </span><span style="background-color: #f5f5f5; color: #0000ff;">false</span><span style="background-color: #f5f5f5; color: #000000;">);
    p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
      alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点捕获</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
    }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);
  </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><img src="44894799033077.png" alt=""></p>
<p>这个时候，我们点击子div时候发生了以下事情</p>
<p>① 判断e.target == e.currentTarget，发现不相等</p>
<p>② 根据相关判断，发现处于捕获阶段（具体逻辑我们后面来）</p>
<p>③ 触发捕获阶段的各个事件</p>
<p>④ 进入处于阶段，将此刻的事件队列中的函数执行之</p>
<p>⑤ 进入冒泡阶段......</p>
<p>比如稍作修改，上面的代码输出将会不一样：</p>
<div class="cnblogs_code">
<pre>p.addEventListener('click', <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
  alert(</span>'父节点冒泡'<span style="color: #000000;">)
}, </span><span style="color: #0000ff;">false</span><span style="color: #000000;">);

c.addEventListener(</span>'click', <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
  alert(</span>'子节点冒泡'<span style="color: #000000;">)
}, </span><span style="color: #0000ff;">false</span><span style="color: #000000;">);
c.addEventListener(</span>'click', <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
  alert(</span>'子节点捕获'<span style="color: #000000;">)
}, </span><span style="color: #0000ff;">true</span><span style="color: #000000;">);

p.addEventListener(</span>'click', <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
  alert(</span>'父节点捕获'<span style="color: #000000;">)
}, </span><span style="color: #0000ff;">true</span>);</pre>
</div>
<p><img src="237367510398175.png" alt=""></p>
<h3>三层嵌套</h3>
<p>根据以上理解，我们很容易就可以说出下述代码的输出</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('7a0ef7b3-b252-48f3-a544-4e49498233c0')"><img id="code_img_closed_7a0ef7b3-b252-48f3-a544-4e49498233c0" class="code_img_closed" src="43570758473519.gif" alt=""><img id="code_img_opened_7a0ef7b3-b252-48f3-a544-4e49498233c0" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('7a0ef7b3-b252-48f3-a544-4e49498233c0',event)" src="16365178109279.gif" alt="">
<div id="cnblogs_code_open_7a0ef7b3-b252-48f3-a544-4e49498233c0" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html </span><span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="http://www.w3.org/1999/xhtml"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/css"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;">
         #p </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 300px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 300px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> padding</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 10px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">  border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid black</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;">
         #c </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid red</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;">
         #sub </span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;"> width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 100px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 100px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;"> border</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 1px solid red</span><span style="background-color: #f5f5f5; color: #000000;">;</span> <span style="background-color: #f5f5f5; color: #000000;">}</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="p"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
        parent
        </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="c"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
            child
            </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="sub"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
            sub

        </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">

      window.alert </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (msg) {
        console.log(msg);
      };

      </span><span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> p </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">p</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">),
        c </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">c</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">),
      sub </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">sub</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">);

      sub.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">sub节点冒泡</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">false</span><span style="background-color: #f5f5f5; color: #000000;">);

      sub.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">sub节点捕获</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);

      p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点捕获11</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);

      p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点冒泡</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">false</span><span style="background-color: #f5f5f5; color: #000000;">);

      c.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">子节点捕获</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);

      c.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">子节点冒泡</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">false</span><span style="background-color: #f5f5f5; color: #000000;">);

      p.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> (e) {
        alert(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父节点捕获</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">)
      }, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">);

    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code </span></div>
<h1>模拟javascript事件机制</h1>
<p>在此之前，我们来说几个基础知识点</p>
<h2>dom唯一标识</h2>
<p>在页面上的dom，每个dom都应该有其唯一标识&mdash;&mdash;_zid（<strong><span>我们这里统一为_zid</span></strong>）/<span><strong>sourceIndex</strong></span>，但是多数浏览器可能认为，这个接口并不需要告诉用户所以我们都不能获得</p>
<p>但是IE将这个接口放出来了&mdash;&mdash;<strong>sourceIndex</strong></p>
<p>我们这里以百度首页为例：</p>
<div class="cnblogs_code">
<pre><span>1</span> <span>var</span> doms = document.getElementsByTagName(<span>'</span><span>*</span><span>'</span><span>);
</span><span>2</span> <span>var</span> str = <span>''</span><span>;
</span><span>3</span> <span>for</span> (<span>var</span> i = <span>0</span>, len = doms.length; i &lt; len; i++<span>) {
</span><span>4</span>     str += doms[i].tagName + <span>'</span><span>: </span><span>'</span> + doms[i].sourceIndex + <span>'</span><span>\n</span><span>'</span><span>;
</span><span>5</span> }</pre>
</div>
<p><img src="32601787530435.png" alt=""></p>
<p><img src="1185228011299.png" alt=""></p>
<p>可以看到，越是上层的_zid越小</p>
<p>其实，dom _zid生成规则应该是以树的正序而来（好像是吧.....），反正是从上到下，从左到右</p>
<p>有了这个后，我们来看看我们如何获得一个dom的注册事件集合</p>
<h2>获取dom注册事件集合</h2>
<p>比如我们为一个dom同时绑定了2个click事件，又给他绑定一个keydown事件，那么对于这个dom来说他就具有3个事件了</p>
<p>我们有什么办法可以获得一个dom注册的事件呢？？？</p>
<p>答案很遗憾，浏览器都没有放出api，所以我们暂时不能知道一个dom到底被注册了多少事件......</p>
<p><span>PS：如果您知道这个问题的答案，请留言</span></p>
<p>有了以上两个知识点，我们就可以开始今天的扯淡了</p>
<p><span>注意：下文进入猜想时间</span></p>
<h3>补充点</h3>
<p>这里通过园友&nbsp;<a id="a_comment_author_2838873" href="http://www.cnblogs.com/jexim/" target="_blank">JexCheng</a>&nbsp;的提示，其实一些浏览器是提供了获取dom事件节点的方法的</p>
<div class="cnblogs_code">
<pre><span>DOM API是没有。不过浏览器提供了一个调试用的接口。
Chrome在console下可以运行下面这个方法：
getEventListeners(node)，
获得对象上绑定的所有事件监听函数。

注意，是在console里面执行getEventListeners方法</span></pre>
</div>
<div class="cnblogs_code">
<pre><span> 1</span> &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
<span> 2</span> &lt;head&gt;
<span> 3</span>   &lt;title&gt;&lt;/title&gt;
<span> 4</span> &lt;/head&gt;
<span> 5</span> &lt;body&gt;
<span> 6</span> &lt;div id="d"&gt;ddssdsd&lt;/div&gt;
<span> 7</span>   &lt;script type="text/javascript"&gt;
<span> 8</span>     <span>var</span> node = document.getElementsByTagName('*'<span>);
</span><span> 9</span>     <span>var</span> d = document.getElementById('d'<span>);
</span><span>10</span>     d.addEventListener('click', <span>function</span><span> () {
</span><span>11</span> <span>      alert();
</span><span>12</span>     }, <span>false</span><span>);
</span><span>13</span>     d.addEventListener('click', <span>function</span><span> () {
</span><span>14</span>       alert('我是第二次'<span>);
</span><span>15</span>     }, <span>false</span><span>);
</span><span>16</span>     d.onclick = <span>function</span><span> () {
</span><span>17</span>       alert('不规范的绑定'<span>);
</span><span>18</span> <span>    }
</span><span>19</span>     d.addEventListener('click', <span>function</span><span> () {
</span><span>20</span> <span>      alert();
</span><span>21</span>     }, <span>true</span><span>);
</span><span>22</span> 
<span>23</span>     d.addEventListener('mousedown', <span>function</span><span> () {
</span><span>24</span>       console.log('mousedown'<span>);
</span><span>25</span>     }, <span>true</span><span>);
</span><span>26</span>     <span>var</span> evets = <span>typeof</span> getEventListeners == 'function' &amp;&amp;<span> getEventListeners(d)
</span><span>27</span>   &lt;/script&gt;
<span>28</span> &lt;/body&gt;
<span>29</span> &lt;/html&gt;</pre>
</div>
<p><span>以上代码在chrome中的console结果为：</span></p>
<p><img src="14961746416355.png" alt=""></p>
<p>可以看到，无论何种绑定，这里都是可以获取的，而且获取的对象与我们模拟的对象比较接近</p>
<h2>事件注册发生的事</h2>
<p>首先，我们为dom注册事件的语法是：</p>
<div class="cnblogs_code">
<pre><span>1</span> dom.addEventListener('click', <span>function</span><span> () {
</span><span>2</span>     alert('ddd'<span>);
</span><span>3</span> })</pre>
</div>
<p>以上述代码来说，我作为浏览器，以这个代码来说，在注册阶段我便可以保存以下信息：</p>
<div class="cnblogs_code">
<pre><span> 1</span> <span>&lt;</span><span>html </span><span>xmlns</span><span>="http://www.w3.org/1999/xhtml"</span><span>&gt;</span>
<span> 2</span> <span>&lt;</span><span>head</span><span>&gt;</span>
<span> 3</span>     <span>&lt;</span><span>title</span><span>&gt;&lt;/</span><span>title</span><span>&gt;</span>
<span> 4</span>     <span>&lt;</span><span>style </span><span>type</span><span>="text/css"</span><span>&gt;</span>
<span> 5</span> <span>         #p </span><span>{</span><span> width</span><span>:</span><span> 300px</span><span>;</span><span> height</span><span>:</span><span> 300px</span><span>;</span><span> padding</span><span>:</span><span> 10px</span><span>;</span><span>  border</span><span>:</span><span> 1px solid black</span><span>;</span> <span>}</span>
<span> 6</span> <span>         #c </span><span>{</span><span> width</span><span>:</span><span> 100px</span><span>;</span><span> height</span><span>:</span><span> 100px</span><span>;</span><span> border</span><span>:</span><span> 1px solid red</span><span>;</span> <span>}</span>
<span> 7</span>     <span>&lt;/</span><span>style</span><span>&gt;</span>
<span> 8</span> <span>&lt;/</span><span>head</span><span>&gt;</span>
<span> 9</span> <span>&lt;</span><span>body</span><span>&gt;</span>
<span>10</span>     <span>&lt;</span><span>div </span><span>id</span><span>="p"</span><span>&gt;</span>
<span>11</span> <span>        parent
</span><span>12</span>         <span>&lt;</span><span>div </span><span>id</span><span>="c"</span><span>&gt;</span>
<span>13</span> <span>            child
</span><span>14</span>         <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>15</span>     <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>16</span>     <span>&lt;</span><span>script </span><span>type</span><span>="text/javascript"</span><span>&gt;</span>
<span>17</span>         <span>var</span><span> p </span><span>=</span><span> document.getElementById(</span><span>'</span><span>p</span><span>'</span><span>),
</span><span>18</span> <span>        c </span><span>=</span><span> document.getElementById(</span><span>'</span><span>c</span><span>'</span><span>);
</span><span>19</span> <span>        c.addEventListener(</span><span>'</span><span>click</span><span>'</span><span>, </span><span>function</span><span> () {
</span><span>20</span> <span>            alert(</span><span>'</span><span>子节点捕获</span><span>'</span><span>)
</span><span>21</span> <span>        }, </span><span>true</span><span>);
</span><span>22</span> 
<span>23</span> <span>        c.addEventListener(</span><span>'</span><span>click</span><span>'</span><span>, </span><span>function</span><span> () {
</span><span>24</span> <span>            alert(</span><span>'</span><span>子节点冒泡</span><span>'</span><span>)
</span><span>25</span> <span>        }, </span><span>false</span><span>);
</span><span>26</span> 
<span>27</span> <span>        p.addEventListener(</span><span>'</span><span>click</span><span>'</span><span>, </span><span>function</span><span> () {
</span><span>28</span> <span>            alert(</span><span>'</span><span>父节点捕获</span><span>'</span><span>)
</span><span>29</span> <span>        }, </span><span>true</span><span>);
</span><span>30</span> 
<span>31</span> <span>        p.addEventListener(</span><span>'</span><span>click</span><span>'</span><span>, </span><span>function</span><span> () {
</span><span>32</span> <span>            alert(</span><span>'</span><span>父节点冒泡</span><span>'</span><span>)
</span><span>33</span> <span>        }, </span><span>false</span><span>);
</span><span>34</span>     <span>&lt;/</span><span>script</span><span>&gt;</span>
<span>35</span> <span>&lt;/</span><span>body</span><span>&gt;</span>
<span>36</span> <span>&lt;/</span><span>html</span><span>&gt;</span></pre>
</div>
<p><img src="50391247337967.png" alt=""></p>
<p>这里，我们为parent和child绑定了click事件，所以浏览器可以获得如下队列结构：</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">/*</span><span style="color: #008000;">***** 第一步-注册事件 *****</span><span style="color: #008000;">*/</span>
<span style="color: #008000;">//</span><span style="color: #008000;">页面事件存储在一个队列里</span><span style="color: #008000;">
//</span><span style="color: #008000;">以_zid排序</span>
<span style="color: #0000ff;">var</span> eventQueue =<span style="color: #000000;"> [
  {
    _zid: </span>'parent'<span style="color: #000000;">,
    handlers: {
      click: [
        { useCapture: </span><span style="color: #0000ff;">true</span><span style="color: #000000;">, listener: fn },
        { useCapture: </span><span style="color: #0000ff;">false</span><span style="color: #000000;">, listener: fn },
        { useCapture: </span><span style="color: #0000ff;">false</span><span style="color: #000000;">, listener: fn }
      ]
    }
  },
  {
    _zid:</span>'child'<span style="color: #000000;">,
    handlers:{
      click: [
      </span><span style="color: #008000;">//</span><span style="color: #008000;">......</span>
<span style="color: #000000;">      ]
    }
  },
  {
    _zid: </span>'_zid'<span style="color: #000000;">,
    handlers: {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">&hellip;&hellip;</span>
<span style="color: #000000;">    }
  }
];</span></pre>
</div>
<p><span style="line-height: 1.5;">就那parent这个div来说，我们为他绑定了两个click事件（我们其实可以绑定3个4个或者更多，所以事件集合是一个数组，执行具有先后顺序）</span></p>
<p>其中注册事件时候，又会分冒泡和捕获，而且这里以_zid排序（比如：document-&gt;body-&gt;div#p-&gt;div#c）</p>
<p>然后第一个阶段就结束了</p>
<p>PS：我想底层c++语言一定有类似的这个队列，而且可以释放接口，让我们获取一个dom所注册的所有事件</p>
<p>注意，此处队列是这样，但是我们真正点击一个元素，可能就只抽取其中一部分关联的对象组成一个新的队列，供下面使用</p>
<h2>初始化事件参数</h2>
<p>第二步就是初始化事件参数，我们可以通过addEventListener，创建事件参数，但是我们这里简单模拟即可：</p>
<p>注意，为了方便理解，我们这里暂不考虑mousedown</p>
<div class="cnblogs_code">
<pre><span>1</span> <span>/*</span><span>***** 第二步-初始化事件参数 *****</span><span>*/</span>
<span>2</span> <span>var</span> Event =<span> {};
</span><span>3</span> Event.type = 'click'<span>;
</span><span>4</span> Event.target = el;<span>//</span><span>当前手指点击最深dom元素</span>
<span>5</span> <span>//</span><span>初始化信息</span>
<span>6</span> <span>//</span><span>......</span>
<span>7</span> <span>//</span><span>鼠标位置信息等</span></pre>
</div>
<p>在这里比较关键的就是我们一定要好好定义我们的target！！！</p>
<p>于是可以进入我们的关键步骤了，触发事件</p>
<h2>触发事件</h2>
<p>事件触发分三步走，首先是捕获然后是处于阶段最后是冒泡阶段：</p>
<div class="cnblogs_code">
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">var</span> isTarget = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">//</span><span style="color: #008000;">当前处于的dom标识，根据他可以获取当前所处dom</span>
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">var</span> cur_zid = <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #008000;">//</span><span style="color: #008000;">此时，我们已经获得了e.target了，这个一定要注意</span>
<span style="color: #008080;"> 7</span> Event.eventPhase = 1<span style="color: #000000;">;
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #008000;">//</span><span style="color: #008000;">首先是捕获阶段，事件执行至event.target为止，我们这里只关注click</span>
<span style="color: #008080;">10</span> <span style="color: #008000;">//</span><span style="color: #008000;">到event.target时，需要进行特殊处理</span>
<span style="color: #008080;">11</span> <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> index = 0, length = eventQueue.lenth; index &lt; length; index++<span style="color: #000000;">) {
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span>   <span style="color: #0000ff;">var</span> obj =<span style="color: #000000;"> eventQueue[index];
</span><span style="color: #008080;">14</span>   cur_zid =<span style="color: #000000;"> obj._zid;
</span><span style="color: #008080;">15</span> 
<span style="color: #008080;">16</span>   <span style="color: #008000;">//</span><span style="color: #008000;">如果马上便进入了处于阶段，便不管捕获阶段下面的代码了，否则便执行捕获阶段的事件</span>
<span style="color: #008080;">17</span>   <span style="color: #008000;">//</span><span style="color: #008000;">执行至target便跳出循环，不再执行下面的操作，/一旦处于阶段便不执行相关事件之间跳出，并跳出捕获阶段，但是记录当前索引值</span>
<span style="color: #008080;">18</span>   <span style="color: #0000ff;">if</span> (Event.target._zid ==<span style="color: #000000;"> eventQueue[index]._zid) {
</span><span style="color: #008080;">19</span>     Event.eventPhase = 2;<span style="color: #008000;">//</span><span style="color: #008000;">当前阶段</span>
<span style="color: #008080;">20</span>     isTarget = <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;">21</span>     <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">22</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">23</span> 
<span style="color: #008080;">24</span>   <span style="color: #008000;">//</span><span style="color: #008000;">若是当前已经是target便不再向下捕获</span>
<span style="color: #008080;">25</span>   <span style="color: #0000ff;">if</span>(isTarget) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">26</span> 
<span style="color: #008080;">27</span>   <span style="color: #008000;">//</span><span style="color: #008000;">获取捕获时期该元素的click事件集合，这里需要做一定筛选</span>
<span style="color: #008080;">28</span>   <span style="color: #0000ff;">var</span> clickHandlers =<span style="color: #000000;"> [];
</span><span style="color: #008080;">29</span>   <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> k <span style="color: #0000ff;">in</span><span style="color: #000000;"> obj.handlers.click) {
</span><span style="color: #008080;">30</span>     <span style="color: #0000ff;">if</span>(obj.handlers.click[k].useCapture == <span style="color: #0000ff;">false</span><span style="color: #000000;">) clickHandlers.push(obj.handlers.click[k].listener);
</span><span style="color: #008080;">31</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">32</span> 
<span style="color: #008080;">33</span>   <span style="color: #008000;">//</span><span style="color: #008000;">事件处理程序根据当前zid获取正在处理的那个元素，当然这个方法，此处并未实现</span>
<span style="color: #008080;">34</span>   Event.currentTarget =<span style="color: #000000;"> getRealDom(cur_zid); 
</span><span style="color: #008080;">35</span>   <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> i = 0, len = clickHandlers.length; i &lt; len; i++<span style="color: #000000;">) {
</span><span style="color: #008080;">36</span>     <span style="color: #008000;">//</span><span style="color: #008000;">每一次事件执行都可能更改Event的值</span>
<span style="color: #008080;">37</span> <span style="color: #000000;">    clickHandlers[i](Event);
</span><span style="color: #008080;">38</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">39</span> 
<span style="color: #008080;">40</span>   <span style="color: #008000;">//</span><span style="color: #008000;">如果阻止冒泡，跳出所有循环，不执行后面的事件</span>
<span style="color: #008080;">41</span>   <span style="color: #0000ff;">if</span><span style="color: #000000;"> (Event.bubbles) {
</span><span style="color: #008080;">42</span>     <span style="color: #008000;">//</span><span style="color: #008000;">不在执行之后逻辑直接跳出</span>
<span style="color: #008080;">43</span>     <span style="color: #008000;">//</span><span style="color: #008000;">return;</span>
<span style="color: #008080;">44</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">45</span> <span style="color: #000000;">}
</span><span style="color: #008080;">46</span> 
<span style="color: #008080;">47</span> <span style="color: #008000;">//</span><span style="color: #008000;">处于事件阶段的相关事件按注册顺序取出，因为前面保留了index，这里直接使用即可</span>
<span style="color: #008080;">48</span> <span style="color: #008000;">//</span><span style="color: #008000;">而这里的obj保存的就是处于阶段时候的相关对象，因为前面跳出了......</span>
<span style="color: #008080;">49</span> <span style="color: #0000ff;">var</span> cur_clickHandlers =<span style="color: #000000;"> obj.handlers.click;
</span><span style="color: #008080;">50</span> 
<span style="color: #008080;">51</span> <span style="color: #008000;">//</span><span style="color: #008000;">事件处理程序根据当前zid获取正在处理的那个元素，当然这个方法，此处并未实现</span>
<span style="color: #008080;">52</span> Event.currentTarget =<span style="color: #000000;"> getRealDom(cur_zid); 
</span><span style="color: #008080;">53</span> <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> i = 0, len = cur_clickHandlers.length; i &lt; len; i++<span style="color: #000000;">) {
</span><span style="color: #008080;">54</span> <span style="color: #000000;">  cur_clickHandlers[i](Event);
</span><span style="color: #008080;">55</span> <span style="color: #000000;">}
</span><span style="color: #008080;">56</span> 
<span style="color: #008080;">57</span> <span style="color: #008000;">//</span><span style="color: #008000;">如果阻止冒泡，跳出所有循环，不执行后面的事件</span>
<span style="color: #008080;">58</span> <span style="color: #0000ff;">if</span><span style="color: #000000;"> (Event.bubbles) {
</span><span style="color: #008080;">59</span>   <span style="color: #008000;">//</span><span style="color: #008000;">不在执行之后逻辑直接跳出</span>
<span style="color: #008080;">60</span>   <span style="color: #008000;">//</span><span style="color: #008000;">return;</span>
<span style="color: #008080;">61</span> <span style="color: #000000;">}
</span><span style="color: #008080;">62</span> 
<span style="color: #008080;">63</span> Event.eventPhase = 3<span style="color: #000000;">;
</span><span style="color: #008080;">64</span> 
<span style="color: #008080;">65</span> <span style="color: #008000;">//</span><span style="color: #008000;">冒泡阶段</span>
<span style="color: #008080;">66</span> <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> index = eventQueue.lenth; index != 0; index--<span style="color: #000000;">) {
</span><span style="color: #008080;">67</span> 
<span style="color: #008080;">68</span>   <span style="color: #0000ff;">var</span> obj =<span style="color: #000000;"> eventQueue[index];
</span><span style="color: #008080;">69</span>   cur_zid =<span style="color: #000000;"> obj._zid;
</span><span style="color: #008080;">70</span> 
<span style="color: #008080;">71</span>   <span style="color: #008000;">//</span><span style="color: #008000;">如果再次到底处于阶段直接跳出</span>
<span style="color: #008080;">72</span>   <span style="color: #0000ff;">if</span> (Event.target._zid ==<span style="color: #000000;"> eventQueue[index]._zid) {
</span><span style="color: #008080;">73</span>    <span style="color: #0000ff;">return</span><span style="color: #000000;"> ;
</span><span style="color: #008080;">74</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">75</span> 
<span style="color: #008080;">76</span>   <span style="color: #008000;">//</span><span style="color: #008000;">获取冒泡时期该元素的click事件集合，这里需要做一定筛选</span>
<span style="color: #008080;">77</span>   <span style="color: #0000ff;">var</span> clickHandlers =<span style="color: #000000;"> [];
</span><span style="color: #008080;">78</span>   <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> k <span style="color: #0000ff;">in</span><span style="color: #000000;"> obj.handlers.click) {
</span><span style="color: #008080;">79</span>     <span style="color: #0000ff;">if</span> (obj.handlers.click[k].useCapture == <span style="color: #0000ff;">true</span><span style="color: #000000;">) clickHandlers.push(obj.handlers.click[k].listener);
</span><span style="color: #008080;">80</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">81</span> 
<span style="color: #008080;">82</span>   <span style="color: #008000;">//</span><span style="color: #008000;">事件处理程序根据当前zid获取正在处理的那个元素，当然这个方法，此处并未实现</span>
<span style="color: #008080;">83</span>   Event.currentTarget =<span style="color: #000000;"> getRealDom(cur_zid);
</span><span style="color: #008080;">84</span>   <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> i = 0, len = clickHandlers.length; i &lt; len; i++<span style="color: #000000;">) {
</span><span style="color: #008080;">85</span>     <span style="color: #008000;">//</span><span style="color: #008000;">每一次事件执行都可能更改Event的值</span>
<span style="color: #008080;">86</span> <span style="color: #000000;">    clickHandlers[i](Event);
</span><span style="color: #008080;">87</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">88</span> 
<span style="color: #008080;">89</span>   <span style="color: #008000;">//</span><span style="color: #008000;">如果阻止冒泡，跳出所有循环，不执行后面的事件</span>
<span style="color: #008080;">90</span>   <span style="color: #0000ff;">if</span><span style="color: #000000;"> (Event.bubbles) {
</span><span style="color: #008080;">91</span>     <span style="color: #008000;">//</span><span style="color: #008000;">不在执行之后逻辑直接跳出</span>
<span style="color: #008080;">92</span>     <span style="color: #008000;">//</span><span style="color: #008000;">return;</span>
<span style="color: #008080;">93</span> <span style="color: #000000;">  }
</span><span style="color: #008080;">94</span> }</pre>
</div>
<p><span style="line-height: 1.5;">这个注释写的很清楚了应该能表达清楚我的意思，对上次的想法做了调整</span></p>
<p><span style="color: #ff0000;"><strong><span style="line-height: 1.5;">如果您对此有何想法，或者我这么想是错误的，请指出！！！</span></strong></span></p>
<h1>结语</h1>
<p><span style="line-height: 1.5;">根据今天狗蛋问的问题，已经结合其它博主的想法，写了这篇博客，希望对您有用，如何文章有误，请不吝指出！</span>&nbsp;</p>
<p>&nbsp;</p>
                </div>

                <div class='span3 sidebar'>
                    <h2>导航栏</h2>
                    <ul class="nav nav-tabs nav-stacked">
                             				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptzdyxhxzsdyjxyzyddf/index.html">javascript中的一些核心知识点以及需要注意的地方</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/[zd]webappdyhzlyzydqdyhdpyjlkkb/index.html">[置顶]【webapp的优化整理】要做移动前端优化的朋友进来看看吧</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/[zd]yddjrwtyjjavascriptsjjzxjsjydjr/index.html">[置顶]【移动端兼容问题研究】javascript事件机制详解（涉及移动兼容）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/gruntzhb30fzxhsygruntdbqddm/index.html">【grunt整合版】30分钟学会使用grunt打包前端代码</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/gruntdyd30fzxhsygruntdbqddm/index.html">【grunt第一弹】30分钟学会使用grunt打包前端代码</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/gruntdsdgruntzqdsjxmzdyy/index.html">【grunt第三弹】grunt在前端实际项目中的应用</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/gruntded30fzxhsygruntdbqddm02/index.html">【grunt第二弹】30分钟学会使用grunt打包前端代码（02）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/IScrollsrxxtpyddhadlqs/index.html">【IScroll深入学习】突破移动端黑暗的利器（上）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/IScrollsrxxjjIScrollynzz/index.html">【IScroll深入学习】解决IScroll疑难杂症</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/iScrollymxx00mniScroll/index.html">【iScroll源码学习00】模拟iScroll</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/iScrollymxx01zbjd/index.html">【iScroll源码学习01】准备阶段</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/iScrollymxx02fjiScrollsghxsjd/index.html">【iScroll源码学习02】分解iScroll三个核心事件点</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/iScrollymxx03iScrollsjjzygdtdsx/index.html">【iScroll源码学习03】iScroll事件机制与滚动条的实现</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/iScrollymxx04flIScrollhx/index.html">【iScroll源码学习04】分离IScroll核心</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptpxdytyyjc/index.html">【javascript培训第一天】语言基础</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptpxdstcybl/index.html">【javascript培训第三天】查遗补漏</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptpxdetDOMyBOM/index.html">【javascript培训第二天】DOM与BOM</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptjzdsk01mkhbc/index.html">【javascript激增的思考01】模块化编程</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptjzdsk02mkhyMVC/index.html">【javascript激增的思考02】模块化与MVC</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptjzdsk03MVVMyKnockout/index.html">【javascript激增的思考03】MVVM与Knockout</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptjzdsk04MVCyBackbonejs(beta)/index.html">【javascript激增的思考04】MVC与Backbonejs(beta)</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/javascriptmxdxzlrwmyqltkdzb01/index.html">【javascript面向对象之路】让我们一起来坦克大战吧01</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/NodeJSxxbj04xwfbxt/index.html">【NodeJS学习笔记04】新闻发布系统</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/requireJSymxx01ljzgrequireJSdjg/index.html">【requireJS源码学习01】了解整个requireJS的结构</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/requireJSymxx02datamainjzdsx/index.html">【requireJS源码学习02】datamain加载的实现</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/requireJSymxx03xjrequireJSdjzlc/index.html">【requireJS源码学习03】细究requireJS的加载流程</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/UIcjkfygjdrlcjs/index.html">【UI插件】开发一个简单日历插件（上）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/UIcjjddrlcjxxxMVCsx/index.html">【UI插件】简单的日历插件（下）——学习MVC思想</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zeptoxxbj01hxff$()/index.html">【zepto学习笔记01】核心方法$()</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zeptoxxbj01hxff$()b/index.html">【zepto学习笔记01】核心方法$()（补）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zeptoxxbj02lsd/index.html">【zepto学习笔记02】零碎点</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zeptoxxbj03sjjz/index.html">【zepto学习笔记03】事件机制</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ycmsztjavascriptzdjc/index.html">【一次面试】再谈javascript中的继承</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ztbackbone01mxModel/index.html">【再探backbone01】模型Model</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ztbackbone02jhCollection/index.html">【再探backbone02】集合Collection</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ztbackbone03bkydyyysltgym/index.html">【再探backbone03】博客园单页应用实例（提供源码）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ztbackbone04dyyydjslycl/index.html">【再探backbone04】单页应用的基石路由处理</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ctUnderscorezsmbyq/index.html">【初探Underscore】再说模版引擎</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ckjavascriptamzAjaxjsxnszddAjax/index.html">【初窥javascript奥秘之Ajax】简述下你所知道的Ajax？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ckjavascriptamzsjmpnxnwmyqmdp/index.html">【初窥javascript奥秘之事件冒泡】那些年我们一起冒的泡</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ckjavascriptamzsjjzldtygdj/index.html">【初窥javascript奥秘之事件机制】论“点透”与“鬼点击”</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ckjavascriptamzrrzmbddthisnzdxzthiszxnlm/index.html">【初窥javascript奥秘之让人捉摸不定的this】你知道现在this指向哪里吗？？？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ckjavascriptamzbbydxbdhlqbcl/index.html">【初窥javascript奥秘之闭包】叶大侠病都好了，求不踩了：）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ckjavascriptamzmxdxfzyjc/index.html">【初窥javascript奥秘之面向对象】封装与继承</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/qdmdsjdjgjdnzdljm/index.html">【前端盲点】事件的几个阶段你真的了解么？？？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyyviewymodelxgsl/index.html">【单页应用】view与model相关梳理</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyyyqldyyybsxjdwbgns/index.html">【单页应用】一起来单页应用吧，实现简单微博功能！（上）</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyyqjkzqappyggxsm/index.html">【单页应用】全局控制器app应该干些什么？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyywmgrhclkjdcccjgx/index.html">【单页应用】我们该如何处理框架弹出层层级关系？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyyljMVC/index.html">【单页应用】理解MVC</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyyztxjzviewzjygrhtx/index.html">【单页应用之通信机制】view之间应该如何通信</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dyyyjkzHistoryxsHistorydgdyyydm/index.html">【单页应用巨坑之History】细数History带给单页应用的噩梦</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/xtszeptofindysyjiosdcjpknrnhtt/index.html">【小贴士】zeptofind元素以及ios弹出键盘可能让你很头疼</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/xtsgytransitionEndanimatedygyqgs/index.html">【小贴士】关于transitionEndanimate的一个有趣故事</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/xtsgzzdbbysjwtdzzmp/index.html">【小贴士】工作中的”闭包“与事件委托的”阻止冒泡“</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/xtstytjavascriptzdreplace/index.html">【小贴士】探一探javascript中的replace</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/xtsxnjpyfixeddgydddt/index.html">【小贴士】虚拟键盘与fixed带给移动端的痛！</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ttjavascriptsjjzdcsxyl/index.html">【探讨】javascript事件机制底层实现原理</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/mkhbcljrequireJSsxygjddmkjzq/index.html">【模块化编程】理解requireJS实现一个简单的模块加载器</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zyJavaScriptmfjmtsdqlxkjzbfgndcljz/index.html">【转】【译】JavaScript魔法揭秘探索当前流行框架中部分功能的处理机制</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zxjavascriptgszl01javascriptcszds/index.html">【追寻javascript高手之路01】javascript参数知多少？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zxjavascriptgszl02blzyyzds/index.html">【追寻javascript高手之路02】变量、作用域知多少？</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zxjavascriptgszl03javascriptdxdld/index.html">【追寻javascript高手之路03】javascript对象大乱斗</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zxjavascriptgszl04ljprototype/index.html">【追寻javascript高手之路04】理解prototype</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zxjavascriptgszl05ljsjl/index.html">【追寻javascript高手之路05】理解事件流</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zgbj04zxzzsj(2)/index.html">【重构笔记04】重新组织数据(2)</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zgbj05jhtjbds/index.html">【重构笔记05】简化条件表达式</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/zgbj06jhhsdy/index.html">【重构笔记06】简化函数调用</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ycmshgttbxysjfl/index.html">一次面试回顾——探讨表现与数据分离</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dhzwebappzdxz/index.html">动画在webapp中的现状</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/ysandriodlqhthdomclicksjqtsxwttj/index.html">原生andriod浏览器回退后dom（click）事件全体失效问题探究</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/scsbdjxysdsbsjytouchsjdnxs/index.html">手持设备点击响应速度，鼠标事件与touch事件的那些事</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/mnbjQueryzeptohxymfx/index.html">迷你版jQuery——zepto核心源码分析</a></li>
    				          				<li><a href="http://songboriceboy.github.io/xxoo/html/javascript/dbsgzdlwmlyqxjdddomxzqb/index.html">都别说工资低了，我们来一起写简单的dom选择器吧！</a></li>
    				                                         
                    </ul>
                </div>
            </div>

        </div>
    </body>
</html>